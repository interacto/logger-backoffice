<link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Josefin+Sans">

<!-- Toolbar -->
<div class="toolbar" role="banner">
  <img
    width="50"
    alt="Angular Logo"
    src="../assets/interacto-logo.png"
  />
  <h2>Interacto logger</h2>
    <div class="spacer"></div>
  <button (click)="deleteData()">BIG RED BUTTON</button>
</div>

<div class="content" role="main">
  Number of usage logs: {{usageLogs.length}}. Number of error logs: {{errorLogs.length}}.
  <br/><br/>
  <button (click)="refreshData()">REFRESH</button>
  <br/>

  <table mat-table [dataSource]="usageLogs">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let log"> {{log.name}} </td>
    </ng-container>
    <ng-container matColumnDef="sessionID">
      <th mat-header-cell *matHeaderCellDef> Session ID </th>
      <td mat-cell *matCellDef="let log"> {{log.sessionID}} </td>
    </ng-container>
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef> Date </th>
      <td mat-cell *matCellDef="let log"> {{log.date}} </td>
    </ng-container>
    <ng-container matColumnDef="duration">
      <th mat-header-cell *matHeaderCellDef> Duration </th>
      <td mat-cell *matCellDef="let log"> {{log.duration}} </td>
    </ng-container>
    <ng-container matColumnDef="cancelled">
      <th mat-header-cell *matHeaderCellDef> Cancelled </th>
      <td mat-cell *matCellDef="let log"> {{log.cancelled}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>
  </table>

<!--  <ng-container *ngFor="let usage of usageLogs">-->
<!--    <ul>-->
<!--      <li>Name: {{usage.name}}</li>-->
<!--      <li>Session Id: {{usage.sessionID}}</li>-->
<!--      <li>Date: {{usage.date}}</li>-->
<!--      <li>Duration: {{usage.duration}}</li>-->
<!--      <li>Cancelled: {{usage.cancelled}}</li>-->
<!--    </ul>-->
<!--  </ng-container>-->

  <ng-container *ngFor="let error of errorLogs">
    <ul>
      <li>Name: {{error.name}}</li>
      <li>Session Id: {{error.msg}}</li>
      <li>Session Id: {{error.sessionID}}</li>
      <li>Date: {{error.date}}</li>
      <li>Duration: {{error.frontVersion}}</li>
      <li>LogLevel: {{error.level}}</li>
      <li>Type: {{error.type}}</li>
      <li>Stack: {{error.stack}}</li>
    </ul>
  </ng-container>

</div>

<router-outlet></router-outlet>
